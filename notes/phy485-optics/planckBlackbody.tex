%
% Copyright © 2012 Peeter Joot.  All Rights Reserved.
% Licenced as described in the file LICENSE under the root directory of this GIT repository.
%
% pick one:
%\input{../assignment.tex}
%\input{../blogpost.tex}
%\renewcommand{\basename}{planckBlackbody}
%\renewcommand{\dirname}{notes/FIXMEwheretodirname/}
%%\newcommand{\dateintitle}{}
%%\newcommand{\keywords}{}
%
%\input{../peeter_prologue_print2.tex}
%
%\beginArtNoToc
%
%\generatetitle{Planck blackbody summation}
%\label{chap:\basename}
\section{Motivation}

\index{blackbody}

Here's a silly exercise.  I'm so used to seeing imaginaries in \(e^{\cdots \omega \cdots}\) expressions, when I looked at the famous blackbody summation for an exponentially decreasing probability distribution

\begin{dmath}\label{eqn:planckBlackbody:10}
\expectation{n_\omega}
= \sum_{n = 0}^\infty n P(n)
=
\frac
{
\sum_{n = 0}^\infty n e^{-\Hbar \omega n/ k T}
}
{
\sum_{n = 0}^\infty e^{-\Hbar \omega n/ k T}
},
\end{dmath}

I imagined (sic) an imaginary in the exponential and thought ``how can that converge?''.  I thought things must somehow magically work out if the limits are taken carefully, so I derived the finite summation expressions using the old tricks.

\section{Guts}

If we want to sum a discrete power series, say

\begin{equation}\label{eqn:planckBlackbody:30}
S_N(x) = 1 + x + x^2 + \cdots x^{N-1} = \sum_{n = 0}^{N-1} x^n,
\end{equation}

we have only to take the difference

\begin{equation}\label{eqn:planckBlackbody:50}
x S_N - S_N = x^N - 1,
\end{equation}

so we have, regardless of the magnitude of \(x\)

\boxedEquation{eqn:planckBlackbody:70}{
S_N(x) = \frac{1 - x^N}{1 - x}.
}

Observe that the derivative of \(S_N\) is

\begin{dmath}\label{eqn:planckBlackbody:90}
\frac{dS_N}{dx} = \sum_{n=1}^{N-1} n x^{n-1} = \inv{x} \sum_{n=1}^{N-1} n x^n,
\end{dmath}

but we also have

\begin{dmath}\label{eqn:planckBlackbody:110}
\frac{dS_N}{dx}
=
S_N(x)
= \frac{- N x^{N-1}}{1 - x} +
\frac{1 - x^N}{(1 - x)^2}
=
\inv{(1-x)^2} \left( -N x^{N-1} (1-x) + 1 - x^N \right)
=
\inv{(1-x)^2} \left(
-N x^{N-1}
+N x^{N}
+ 1 - x^N
\right)
=
\inv{(1-x)^2} \left(
 1
-N x^{N-1}
+(N -1) x^{N}
\right)
\end{dmath}

We expect this and \eqnref{eqn:planckBlackbody:90} to differ only by a constant.  For \eqnref{eqn:planckBlackbody:90}, or \(dS_N/dx = 1 + 2 x + 3 x^2 + \cdots\), we have \(1\) at the origin, the same as \eqnref{eqn:planckBlackbody:110}.  Our conclusion is

\boxedEquation{eqn:planckBlackbody:130}{
\sum_{n=1}^{N-1} n x^n
=
\frac{x}{(1-x)^2} \left(
 1
-N x^{N-1}
+(N -1) x^{N}
\right),
}

a result that applies, no matter the magnitude of \(x\).  Now we can form the Planck summation up to some discrete summation point (say \(N-1\))

\begin{dmath}\label{eqn:modernOpticsLecture18:150}
\frac
{
\sum_{n = 0}^{N-1} n e^{-\Hbar \omega n/ k T}
}
{
\sum_{n = 0}^{N-1} e^{-\Hbar \omega n/ k T}
}
=
\frac{x}{1-x} \left(
 1
-N x^{N-1}
+(N -1) x^{N}
\right)
\frac{1}
{1 - x^N}
\end{dmath}

I got this far and noticed there's still an issue with \(N \rightarrow \infty\).  Taking a second look, I see that we have a plain old real exponential, something perhaps like \cref{fig:negativeExponentialPlot:negativeExponentialPlotFig1}.

\imageFigure{../../figures/phy485/negativeExponentialPlotFig1}{Plot of \(e^{-x/5}\)}{fig:negativeExponentialPlot:negativeExponentialPlotFig1}{0.3}

It doesn't really matter what the value of \(\Hbar /k T\) is (if considering the function one of \(\omega\)), it will be greater than zero, so that we have for our sum

\begin{dmath}\label{eqn:modernOpticsLecture18:170}
\frac
{
\sum_{n = 0}^{\infty} n e^{-\Hbar \omega n/ k T}
}
{
\sum_{n = 0}^{\infty} e^{-\Hbar \omega n/ k T}
}
=
\frac{e^{-\Hbar \omega/k T}}{1-e^{-\Hbar \omega/k T}}
=
\frac{1}{e^{\Hbar \omega/k T} - 1},
\end{dmath}

which is the Planck result.

% this is to produce the sites.google url and version info and so forth (for blog posts)
%\vcsinfo
%\EndArticle
%\EndNoBibArticle
