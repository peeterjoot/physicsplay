%
% Copyright © 2013 Peeter Joot.  All Rights Reserved.
% Licenced as described in the file LICENSE under the root directory of this GIT repository.
%
%\input{../blogpost.tex}
%\renewcommand{\basename}{condensedMatterLecture6}
%\renewcommand{\dirname}{notes/phy487/}
%\newcommand{\keywords}{Condensed matter physics, PHY487H1F}
%\input{../peeter_prologue_print2.tex}
%
%%\citep{harald2003solid} \S x.y
%
%%\usepackage{mhchem}
%\usepackage[version=3]{mhchem}
%
%\beginArtNoToc
%\generatetitle{PHY487H1F Condensed Matter Physics.  Lecture 6: Diffraction.  Taught by Prof.\ Stephen Julian}
%\chapter{Diffraction}
\label{chap:condensedMatterLecture6}
%
%\section{Disclaimer}
%
%Peeter's lecture notes from class.  May not be entirely coherent.
%
%\section{Conditions for constructive interference at the detector}
\section{Constructive interference}
\index{diffraction}
\index{interference}

Constructive interference is diffraction peaks (spots).  In general the intensity is

\begin{dmath}\label{eqn:condensedMatterLecture6:20}
I(\BK) 
= 
\frac{\Abs{A_\nought}^2}{{R'}^2}
\Abs{
\int \rho(\Br) e^{-i \BK \cdot \Br}
d\Br
}^2,
\end{dmath}

so that after a periodic decomposition we have

\begin{dmath}\label{eqn:condensedMatterLecture6:40}
I(\BK) 
= 
\frac{\Abs{A_\nought}^2}{{R'}^2}
\Abs{
\sum_\BG \rho_\BG
\int
e^{i (\BG - \BK) \cdot \Br}
d\Br
}^2.
\end{dmath}

When

\begin{dmath}\label{eqn:condensedMatterLecture6:60}
\BK = \Bk - \Bk_\nought = \BG
\end{dmath}

the integrand is unity (so the integral is the area of the diffraction aperature), whereas if 

\begin{dmath}\label{eqn:condensedMatterLecture6:80}
\BK \ne \BG
\end{dmath}

integrand oscillates, and the integral \(\sim 0\).   

%\cref{fig:qmSolidsL6:qmSolidsL6Fig1}.
\imageFigure{../../figures/phy487/qmSolidsL6Fig1}{Cancellation}{fig:qmSolidsL6:qmSolidsL6Fig1}{0.15}

This is effectively a \(\delta_{\BK, \BG}\) condition, defining the \underlineAndIndex{Laue condition} for constructive interference.

\boxedEquation{eqn:condensedMatterLecture6:100}{
\BK = \BG
}

%\cref{fig:qmSolidsL6:qmSolidsL6Fig2}.
\imageFigure{../../figures/phy487/qmSolidsL6Fig2}{Diffraction}{fig:qmSolidsL6:qmSolidsL6Fig2}{0.2}

In particular 

\begin{dmath}\label{eqn:condensedMatterLecture6:40b}
I(\BK = \BG) 
= 
\frac{\Abs{A_\nought}^2}{{R'}^2}
\Abs{
\rho_\BG
}^2
V^2,
\end{dmath}

where \(V\) is the scattering volume.  This is discussed further in \citep{ibach2009solid} \S 3.3.

\section{Ewald sphere}
\index{Ewald sphere}

\reading \citep{ashcroft1976solid} \textchapref{6}.

As mentioned elastic scattering \index{elastic scattering} is characterized by \(\Abs{\Bk} = \Abs{\Bk_\nought}\).  This allows for a geometric (in reciprocal space) interpretation of the Laue condition.  The procedure is

\begin{enumerate}
\item Draw reciprocal lattice (r.l.)
\item 
draw \(\Bk_\nought\) with the head at a r.l. point
\item draw sphere of radius \(\Bk_\nought\) around the \textunderline{tail}
\item if there sphere intersects other r.l. points we have diffraction.
\end{enumerate}

%F3 (Fig 3.4 in text).
%\cref{fig:qmSolidsL6:qmSolidsL6Fig3}.
\imageFigure{../../figures/phy487/qmSolidsL6Fig3}{Ewald sphere}{fig:qmSolidsL6:qmSolidsL6Fig3}{0.2}

\section{Scattering in terms of lattice points}
\index{scattering}

A lattice has an infinite number of sets of parallel planes that contain all lattice points.

A given set of planes is labeled by \underlineAndIndex{Miller indices}.

\begin{enumerate}
\item start at the origin
\item With \(m, n, o\) all integers,

\begin{itemize}
\item 
go \(m \Ba_1\) to next plane.
\item 
go \(n \Ba_2\) to next plane.
\item 
go \(o \Ba_3\) to next plane.
\end{itemize}

\item Find \(\lr{ \frac{p}{m}, \frac{p}{n}, \frac{p}{o}}\).  These triplets are called the Miller indices.
\end{enumerate}

\makeexample{simple cubic}{example:condensedMatterLecture6:1}{

%\cref{fig:qmSolidsL6:qmSolidsL6Fig4}.
\imageFigure{../../figures/phy487/qmSolidsL6Fig4}{Cubic Miller planes}{fig:qmSolidsL6:qmSolidsL6Fig4}{0.2}

\begin{dmath}\label{eqn:condensedMatterLecture6:120}
(1 \times \Ba_1, \infty \times \Ba_2, \infty \times \Ba_3)
\end{dmath}

\begin{dmath}\label{eqn:condensedMatterLecture6:140}
\lr{ \frac{p}{1}, \frac{p}{\infty}, \frac{p}{\infty} }
\end{dmath}

with \(p = 1\) this gives Miller indices of
\begin{dmath}\label{eqn:condensedMatterLecture6:160}
\lr{ 1, 0, 0}
\end{dmath}
}

As another example, consider an fcc configuration, as in \cref{fig:qmSolidsL6:qmSolidsL6Fig5}.  Here two possible Miller planes are indicated.

%\makeexample{fcc}{example:condensedMatterLecture6:2}{
\imageFigure{../../figures/phy487/qmSolidsL6Fig5}{fcc Miller planes}{fig:qmSolidsL6:qmSolidsL6Fig5}{0.2}
%}

We use 

\begin{dmath}\label{eqn:condensedMatterLecture6:180}
\BG_{hkl} = 
j \Bg_1 +
k \Bg_2 +
l \Bg_3,
\end{dmath}

with this perpendicular to a plane that we can identify as the \((h, k, l)\) plane.

\makeexample{Miller index demonstration}{example:condensedMatterLecture6:3}{

FIXME: figure stolen from Prof's notes.  Was hard to draw in class.

Here we illustrate two pairs of arbitrary planes each passing through two lattice points.
%\cref{fig:qmSolidsL6:qmSolidsL6Fig6}.
\imageFigure{../../figures/phy487/qmSolidsL6Fig6}{Miller index demonstration}{fig:qmSolidsL6:qmSolidsL6Fig6}{0.2}

\begin{dmath}\label{eqn:condensedMatterLecture6:200}
\lr{ 1 \times \Ba_1, \inv{2} \times \Ba_2, - \Ba_3 }
\implies
\lr{ 
\frac{p}{1},
\frac{p}{\inv{2}},
-\frac{p}{1} 
}
\implies
\lr{ 
1, 2, -1
}
\end{dmath}

To find the perpendicular, define 2 non-parallel vectors in a plane: \(\Ba_1 - \Ba_2/2\), \(-\Ba_3 - \Ba_2/2\).

Perpendicular vector is

\begin{dmath}\label{eqn:condensedMatterLecture6:220}
%\perp
\propto
(\Ba_1 - \Ba_2/2) \cross (-\Ba_3 - \Ba_2/2)
= 
\inv{2} \Ba_2 \cross \Ba_3
+\Ba_3 \cross \Ba_1
- \inv{2} \Ba_1 \cross \Ba_2
\propto
\Bg_1 + 2 \Bg_2 - \Bg_3 = \BG_{1, 2, -1}
\end{dmath}

}

A more general treatment can be found in \citep{ibach2009solid} \S 3.4.  That section of the text introduces a variety of indices that are worth enumerating

\begin{itemize}
\item \((m, n, o)\).  These provide the scaling \(\Br_n = m \Ba_1 + n \Ba_2 + o \Ba_3\) for each of the lattice points in position space.
\item \((h', k', l') = (1/m, 1/n, 1/o)\).  These are non integral reciprocal indices, that are to be scaled by a integral constant \(p\).
\item \((h, k, l) = p(h', k', l')\).  After scaling with an appropriate constant \(p\) (for example, \(p = m n o\)), these are integer valued constants that are reciprocal to the \((m, n, o)\) position space indices.
\end{itemize}

The text uses \((m, n, o) = (1, 2, 2)\) as an example.  It is redrawn here with just two planes in \cref{fig:qmSolidsL6:qmSolidsL6Fig9}.

\imageFigure{../../figures/phy487/qmSolidsL6Fig9}{Lattice planes example}{fig:qmSolidsL6:qmSolidsL6Fig9}{0.3}

\paragraph{Identification of \(\BG_{h k l}\) with the lattice plane for \(m n o\)}

We can factor \(\BG_{h k l}\) as the cross products of two vectors in the plane

\begin{dmath}\label{eqn:condensedMatterLecture6:300}
\frac{2 \pi p}{ m n o \Ba_1 \cdot (\Ba_2 \cross \Ba_3) }
\lr{ m \Ba_1 - n \Ba_2 }
\cross \lr{ n \Ba_2 - o \Ba_3 }
=
\frac{2 \pi p}{ m n o \Ba_1 \cdot (\Ba_2 \cross \Ba_3) }
\lr{
m n \Ba_1 \cross \Ba_2
+ n o \Ba_2 \cross \Ba_3
+ o m \Ba_3 \cross \Ba_1
}
=
\frac{2 \pi p}{ \Ba_1 \cdot (\Ba_2 \cross \Ba_3) }
\lr{
\inv{o} \Ba_1 \cross \Ba_2
+ \inv{m} \Ba_2 \cross \Ba_3
+ \inv{n} \Ba_3 \cross \Ba_1
}
=
\frac{2 \pi p}{ \Ba_1 \cdot (\Ba_2 \cross \Ba_3) }
\lr{
h' \Ba_2 \cross \Ba_3
+ k' \Ba_3 \cross \Ba_1
l' \Ba_1 \cross \Ba_2
}
=
\frac{2 \pi}{ \Ba_1 \cdot (\Ba_2 \cross \Ba_3) }
\lr{
h \Ba_2 \cross \Ba_3
+ k \Ba_3 \cross \Ba_1
+ l \Ba_1 \cross \Ba_2
}
= 
h \Bg_1
+k \Bg_2
+l \Bg_3
= \BG_{h k l}
\end{dmath}

Observe that this geometrical identification shows that the \(h k l\) indices of \(\BG_{h k l}\) are the reciprocal lattice indices in momentum (dual) space, not the original \(m n o\) indices of the position space lattice.

\paragraph{Distance between lattice planes}
\index{lattice plane}

Looking back to \cref{fig:qmSolidsL6:qmSolidsL6Fig9} we see that the distance between integer multiples of the same lattice points can be calculated by projecting any one of the \(m \Ba_1, n\Ba_2, o\Ba_3\) vectors onto the direction of the corresponding \(\Gcap_{h k l}\)

The text calls the distance from the origin to the first lattice plane
%If \(d_{hkl}\) is the distance between planes, then

\begin{dmath}\label{eqn:condensedMatterLecture6:240a}
d'_{hkl} 
= 
m \Ba_1 \cdot \Gcap_{h k l}
= 
m \Ba_1 \cdot \frac{\BG_{h k l}}{ G_{h k l}}
= m \frac{ 2 \pi h }{ G_{h k l} }
= \frac{ 2 \pi p }{ G_{h k l} }
\end{dmath}

and then scales this as
\begin{dmath}\label{eqn:condensedMatterLecture6:240}
d_{hkl} = 
\frac{d'_{hkl}}{p} = 
\frac{2 \pi}{ G_{hkl} },
\end{dmath}

calling this the distance to the ``nearest'' lattice plane.  It initially seemed to me that \(d'_{hkl}\) ought to be described as the distance to the nearest lattice plane, since the distance from the origin appeared like it was the separation of the two closest planes.  A classmate James explained what I had failed to understand.  The entire lattice that the sample primitive lattice cell would generate is not just replicated for integer multiples of \(2 \Ba_1\), but all the multiples of \(\Ba_1\) (there are many possible lattice planes and we have to allow for all integer multiples \(\Br_n = m \Ba_1 + n \Ba_2 + o \Ba_3\)).   This is illustrated in \cref{fig:qmSolidsL6:qmSolidsL6Fig10}.

\imageFigure{../../figures/phy487/qmSolidsL6Fig10}{Primative cell replication and all the Miller 122 planes}{fig:qmSolidsL6:qmSolidsL6Fig10}{0.3}

Observe how there ends up being a plane between the origin and plane for which \(2 \Ba_1\) was a lattice point.  This is why we need to divide this value by two (in this \(p = 2\) case), and more generally introduce the scaling \(d_{hkl} = d'_{hkl}/p\).

\section{Bragg condition}
\index{Bragg condition}

\reading \citep{ashcroft1976solid} \textchapref{6}.

In \cref{fig:qmSolidsL6:qmSolidsL6Fig7}, is a geometric depiction of \(\BG\) in reciprocal space, with the \(hkl\) plane perpendicular to the page.

\imageFigure{../../figures/phy487/qmSolidsL6Fig7}{Diffraction geometry}{fig:qmSolidsL6:qmSolidsL6Fig7}{0.2}

Observe that 
\begin{dmath}\label{eqn:condensedMatterLecture6:260a}
\BG_{hkl} \cdot \kcap_\nought = k_\nought \sin\theta = \frac{G_{hkl}}{2}
\end{dmath}

With \(G_{hkl}\) from \eqnref{eqn:condensedMatterLecture6:240}, we have

\begin{equation}\label{eqn:condensedMatterLecture6:260}
\frac{2 \pi}{d_{hkl}} 
= 2 k_\nought \sin\theta
= 2 \frac{2 \pi}{\lambda_\nought} \sin\theta,
\end{equation}

or

\boxedEquation{eqn:condensedMatterLecture6:280}{
\lambda_\nought = 2 d_{hkl} \sin\theta.
}

This is the \underlineAndIndex{Bragg condition}, which we showed is equivalent to the Laue condition, and illustrated in \cref{fig:qmSolidsL6:qmSolidsL6Fig8}.

\imageFigure{../../figures/phy487/qmSolidsL6Fig8}{Bragg condition}{fig:qmSolidsL6:qmSolidsL6Fig8}{0.3}

Path difference is \(2 d \sin\theta = n \lambda\) for constructive interference.

%\EndArticle
